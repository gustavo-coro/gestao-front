import{A as k,B,F as V,G as j,b as F,d as s,f as S,g as b,j as y,l as I,m as O,o as R,p as P,q as N,s as U,t as q,u as D,v as G,x as L}from"./chunk-7FJALMHQ.js";import{a as w,f as T,g as J}from"./chunk-XAYXIGTK.js";import{c as v,d as E}from"./chunk-GN7WWOTY.js";import{Da as m,Ha as p,Oa as h,Ta as u,Za as l,cd as A,dd as z,ed as H,fc as C,fd as $,gb as e,hb as t,ib as d,jc as x,ob as M,zb as r}from"./chunk-4P6AN2NL.js";function Q(o,n){o&1&&(e(0,"mat-error"),r(1," E-mail \xE9 obrigat\xF3rio "),t())}function W(o,n){o&1&&(e(0,"mat-error"),r(1," Formato de e-mail inv\xE1lido "),t())}function X(o,n){o&1&&(e(0,"mat-error"),r(1," Senha \xE9 obrigat\xF3ria "),t())}function Y(o,n){o&1&&(e(0,"mat-error"),r(1," Senha deve ter no m\xEDnimo 6 caracteres "),t())}var K=class o{constructor(n,i,a){this.fb=n;this.api=i;this.router=a}registerForm;ngOnInit(){this.registerForm=this.fb.group({email:["",[s.required,s.email]],senha:["",[s.required,s.minLength(6)]]})}onSubmit(){if(this.registerForm.invalid){console.warn("Formul\xE1rio inv\xE1lido",this.registerForm.value);return}let n=this.registerForm.value;console.log("Tentando cadastrar usu\xE1rio:",n),this.api.registerUser(n).subscribe({next:i=>{console.log("Cadastro bem-sucedido:",i),alert("Cadastro realizado com sucesso!"),this.router.navigate(["/login"])},error:i=>{console.error("Erro no cadastro:",i),alert("Falha no cadastro: "+(i.error?.message||`${i.status} ${i.statusText}`))}})}static \u0275fac=function(i){return new(i||o)(p(N),p(J),p(v))};static \u0275cmp=h({type:o,selectors:[["app-register-user"]],decls:33,vars:6,consts:[[1,"register-card"],[1,"register-header"],["src","assets/logo.png","alt","Company Logo",1,"logo"],[1,"register-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","email","type","email","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","senha","type","password","required","","minlength","6"],["mat-raised-button","","color","primary","type","submit",1,"register-button",3,"disabled"],[1,"register-footer"],[1,"redirect-text"],["routerLink","/login",1,"redirect-link"]],template:function(i,a){if(i&1&&(e(0,"mat-card",0)(1,"div",1),d(2,"img",2),e(3,"h2"),r(4,"Criar Nova Conta"),t()(),e(5,"form",3),M("ngSubmit",function(){return a.onSubmit()}),e(6,"mat-form-field",4)(7,"mat-label"),r(8,"E-mail"),t(),d(9,"input",5),e(10,"mat-icon",6),r(11,"email"),t(),u(12,Q,2,0,"mat-error",7)(13,W,2,0,"mat-error",7),t(),e(14,"mat-form-field",4)(15,"mat-label"),r(16,"Senha"),t(),d(17,"input",8),e(18,"mat-icon",6),r(19,"lock"),t(),e(20,"mat-hint"),r(21,"M\xEDnimo 6 caracteres"),t(),u(22,X,2,0,"mat-error",7)(23,Y,2,0,"mat-error",7),t(),e(24,"button",9)(25,"mat-icon"),r(26,"person_add"),t(),r(27," Registrar "),t()(),e(28,"div",10)(29,"p",11),r(30," J\xE1 tem conta? "),e(31,"a",12),r(32,"Fa\xE7a login"),t()()()()),i&2){let g,c,f,_;m(5),l("formGroup",a.registerForm),m(7),l("ngIf",(g=a.registerForm.get("email"))==null?null:g.hasError("required")),m(),l("ngIf",(c=a.registerForm.get("email"))==null?null:c.hasError("email")),m(9),l("ngIf",(f=a.registerForm.get("senha"))==null?null:f.hasError("required")),m(),l("ngIf",(_=a.registerForm.get("senha"))==null?null:_.hasError("minlength")),m(),l("disabled",a.registerForm.invalid)}},dependencies:[x,C,U,y,F,S,b,R,P,I,O,T,w,B,k,q,G,D,L,j,V,z,A,E,$,H],styles:[".register-card[_ngcontent-%COMP%]{max-width:450px;margin:2rem auto;padding:2rem;border-radius:16px;box-shadow:0 4px 20px #00000014;text-align:center}.register-header[_ngcontent-%COMP%]{margin-bottom:2rem}.register-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:60px;margin-bottom:1rem}.register-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);margin:0;font-size:1.5rem}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-field[_ngcontent-%COMP%]{width:100%}.register-button[_ngcontent-%COMP%]{height:50px;font-weight:500;margin-top:.5rem}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;color:var(--danger-color);margin-top:1rem;font-size:.9rem}.register-footer[_ngcontent-%COMP%]{margin-top:2rem}.redirect-text[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.redirect-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}}"]})};export{K as RegisterUserComponent};
