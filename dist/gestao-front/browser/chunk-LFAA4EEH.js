import{a as h,b as g,c as _e}from"./chunk-7X4TXDHF.js";import"./chunk-PT4NCSO5.js";import{a as oe,b as ae,c as re,d as le,e as me,f as pe,g as se,h as ce,i as de,j as ue,k as fe,l as ge}from"./chunk-4ZY4XCO3.js";import"./chunk-SH2TLVCK.js";import"./chunk-FO32T2ZT.js";import"./chunk-PBNEBNJG.js";import{A as G,B as K,F as U,G as X,b as H,f as B,i as z,r as Q,t as q,x as J}from"./chunk-KWAF5XDU.js";import{a as W,f as j,g as ne}from"./chunk-EMEIIDOM.js";import{d as A}from"./chunk-BB7POGC6.js";import{Ab as d,Da as l,Db as v,Eb as D,Fb as I,Ha as b,Hb as O,Ib as T,Jb as F,Kb as V,Nb as k,Oa as y,Ta as m,Za as p,ad as Y,cd as Z,dd as ee,ed as te,fc as $,fd as ie,gb as a,ha as x,hb as o,ia as E,ib as f,ic as R,jb as s,jc as N,kb as c,mb as M,ob as C,pb as S,tb as w,ub as P,vb as L,zb as r}from"./chunk-MQA6ALZQ.js";var he=()=>[5,10,20],xe=e=>["/funcionario",e];function Ee(e,t){if(e&1){let i=M();a(0,"button",28),C("click",function(){x(i);let u=S();return E(u.clearFilter())}),a(1,"mat-icon"),r(2,"close"),o()()}}function be(e,t){e&1&&(a(0,"th",29),r(1,"Nome"),o())}function ye(e,t){if(e&1&&(a(0,"td",30),r(1),o()),e&2){let i=t.$implicit;l(),d(i.nome)}}function Me(e,t){e&1&&(a(0,"th",29),r(1,"Email"),o())}function Se(e,t){if(e&1&&(a(0,"td",30),r(1),o()),e&2){let i=t.$implicit;l(),d(i.email)}}function we(e,t){e&1&&(a(0,"th",29),r(1,"CPF"),o())}function Pe(e,t){if(e&1&&(a(0,"td",30),r(1),o()),e&2){let i=t.$implicit;l(),d(i.cpf)}}function Le(e,t){e&1&&(a(0,"th",29),r(1,"Telefone"),o())}function ve(e,t){if(e&1&&(a(0,"td",30),r(1),o()),e&2){let i=t.$implicit;l(),d(i.telefone)}}function De(e,t){e&1&&(a(0,"th",29),r(1,"Cargo"),o())}function Ie(e,t){if(e&1&&(a(0,"td",30),r(1),o()),e&2){let i=t.$implicit;l(),d(i.role)}}function Oe(e,t){e&1&&(a(0,"th",29),r(1,"Sal\xE1rio"),o())}function Te(e,t){if(e&1&&(a(0,"td",31),r(1),V(2,"currency"),o()),e&2){let i=t.$implicit;l(),d(k(2,1,i.salario,"BRL","symbol","1.2-2"))}}function Fe(e,t){e&1&&(a(0,"th",32),r(1,"A\xE7\xF5es"),o())}function Ve(e,t){if(e&1&&(a(0,"td",33)(1,"button",34)(2,"mat-icon"),r(3,"edit"),o()()()),e&2){let i=t.$implicit;l(),p("routerLink",F(1,xe,i.cpf))}}function ke(e,t){e&1&&f(0,"tr",35)}function $e(e,t){e&1&&f(0,"tr",36)}function Re(e,t){e&1&&(a(0,"div",37)(1,"mat-icon"),r(2,"search_off"),o(),a(3,"p"),r(4,"Nenhum funcion\xE1rio encontrado"),o()())}function Ne(){let e=new h;return e.itemsPerPageLabel="Itens por p\xE1gina:",e.nextPageLabel="Pr\xF3xima p\xE1gina",e.previousPageLabel="P\xE1gina anterior",e.firstPageLabel="Primeira p\xE1gina",e.lastPageLabel="\xDAltima p\xE1gina",e.getRangeLabel=(t,i,n)=>`${t*i+1} - ${Math.min((t+1)*i,n)} de ${n}`,e}var Ce=class e{constructor(t){this.api=t}dataSource=new ge;originalEmployees=[];filterValue="";displayedColumns=["nome","email","cpf","telefone","role","salario","actions"];paginator;ngOnInit(){this.loadEmployees()}ngAfterViewInit(){this.dataSource.data.length>0&&!this.dataSource.paginator&&this.paginator?this.dataSource.paginator=this.paginator:!this.dataSource.paginator&&this.paginator&&(this.dataSource.paginator=this.paginator)}loadEmployees(){this.api.getEmployees().subscribe({next:t=>{this.originalEmployees=t,this.dataSource.data=t,this.paginator&&(this.dataSource.paginator=this.paginator)},error:t=>console.error("Erro ao carregar funcion\xE1rios",t)})}formatCpfForDisplay(t){if(!t)return"";let i=String(t).replace(/\D/g,"");if(i.length===0)return"";let n=i.substring(0,11);return n.length>9?n=`${n.substring(0,3)}.${n.substring(3,6)}.${n.substring(6,9)}-${n.substring(9)}`:n.length>6?n=`${n.substring(0,3)}.${n.substring(3,6)}.${n.substring(6)}`:n.length>3&&(n=`${n.substring(0,3)}.${n.substring(3)}`),n}applyFilter(){let t=this.filterValue.trim().toLowerCase();t?this.dataSource.data=this.originalEmployees.filter(i=>i.cpf?.toLowerCase().includes(t)||i.nome?.toLowerCase().includes(t)||i.email?.toLowerCase().includes(t)||i.telefone?.toLowerCase().includes(t)):this.dataSource.data=this.originalEmployees,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}clearFilter(){this.filterValue="",this.applyFilter()}static \u0275fac=function(i){return new(i||e)(b(ne))};static \u0275cmp=y({type:e,selectors:[["app-employee-list"]],viewQuery:function(i,n){if(i&1&&w(g,5),i&2){let u;P(u=L())&&(n.paginator=u.first)}},features:[O([{provide:h,useValue:Ne()}])],decls:48,vars:8,consts:[[1,"list-card"],[1,"header"],[1,"actions"],["mat-raised-button","","color","primary","routerLink","/funcionario/new",1,"new-button"],["mat-stroked-button","","routerLink","/home",1,"back-button"],[1,"filter-container"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Nome, CPF/CNPJ, Email ou Telefone",3,"ngModelChange","input","ngModel"],["matSuffix",""],["mat-icon-button","","matSuffix","","aria-label","Limpar filtro",3,"click",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",1,"full-table","mat-elevation-z4",3,"dataSource"],["matColumnDef","nome"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","cpf"],["matColumnDef","telefone"],["matColumnDef","role"],["matColumnDef","salario"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-results",4,"ngIf"],["showFirstLastButtons","","aria-label","Selecione a p\xE1gina de funcion\xE1rios",3,"pageSizeOptions"],["mat-icon-button","","matSuffix","","aria-label","Limpar filtro",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"text-right"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-icon-button","","color","primary","matTooltip","Editar Funcion\xE1rio",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"no-results"]],template:function(i,n){i&1&&(a(0,"mat-card",0)(1,"div",1)(2,"h2"),r(3,"Funcion\xE1rios"),o(),a(4,"div",2)(5,"button",3)(6,"mat-icon"),r(7,"person_add"),o(),r(8," Novo Funcion\xE1rio "),o(),a(9,"button",4)(10,"mat-icon"),r(11,"arrow_back"),o(),r(12," Voltar "),o()()(),a(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),r(16,"Filtrar"),o(),a(17,"input",7),I("ngModelChange",function(_){return D(n.filterValue,_)||(n.filterValue=_),_}),C("input",function(){return n.applyFilter()}),o(),a(18,"mat-icon",8),r(19,"search"),o(),m(20,Ee,3,0,"button",9),o()(),a(21,"div",10)(22,"table",11),s(23,12),m(24,be,2,0,"th",13)(25,ye,2,1,"td",14),c(),s(26,15),m(27,Me,2,0,"th",13)(28,Se,2,1,"td",14),c(),s(29,16),m(30,we,2,0,"th",13)(31,Pe,2,1,"td",14),c(),s(32,17),m(33,Le,2,0,"th",13)(34,ve,2,1,"td",14),c(),s(35,18),m(36,De,2,0,"th",13)(37,Ie,2,1,"td",14),c(),s(38,19),m(39,Oe,2,0,"th",13)(40,Te,3,6,"td",20),c(),s(41,21),m(42,Fe,2,0,"th",22)(43,Ve,4,3,"td",23),c(),m(44,ke,1,0,"tr",24)(45,$e,1,0,"tr",25),o(),m(46,Re,5,0,"div",26),o(),f(47,"mat-paginator",27),o()),i&2&&(l(17),v("ngModel",n.filterValue),l(3),p("ngIf",n.filterValue),l(2),p("dataSource",n.dataSource),l(22),p("matHeaderRowDef",n.displayedColumns),l(),p("matRowDefColumns",n.displayedColumns),l(),p("ngIf",n.dataSource.filteredData.length===0),l(),p("pageSizeOptions",T(7,he)))},dependencies:[N,$,R,j,W,fe,oe,re,se,le,ae,ce,me,pe,de,ue,ie,te,ee,Z,Y,A,_e,g,X,U,G,q,J,K,Q,H,B,z],styles:[".list-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin:16px;box-shadow:0 4px 20px #00000014}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid rgba(67,97,238,.1)}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.8rem;margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.new-button[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff!important;padding:0 24px;height:44px;font-weight:500}.back-button[_ngcontent-%COMP%]{border-color:var(--text-secondary);color:var(--text-secondary)}.filter-container[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;background:#4361ee0d;padding:16px;border-radius:12px}.filter-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.table-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;margin:24px 0;box-shadow:0 2px 16px #00000014}.full-table[_ngcontent-%COMP%]{width:100%}.text-right[_ngcontent-%COMP%]{text-align:right}.text-center[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{text-align:center;padding:32px;color:var(--text-secondary);font-size:1.1rem}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.6}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.actions[_ngcontent-%COMP%], .new-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%]{width:100%}.filter-container[_ngcontent-%COMP%]{flex-direction:column}.filter-field[_ngcontent-%COMP%]{width:100%}}"]})};export{Ce as EmployeeListComponent};
