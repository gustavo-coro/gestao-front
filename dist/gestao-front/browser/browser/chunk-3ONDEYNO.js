import{a as S,b as _,c as ue}from"./chunk-UQLF6CA5.js";import"./chunk-JKG6SBN7.js";import{a as te,b as ie,c as ne,d as re,e as oe,f as ae,g as le,h as pe,i as me,j as se,k as ce,l as de}from"./chunk-QR3VN75N.js";import"./chunk-EKXEQYR4.js";import"./chunk-RK5QYF4B.js";import"./chunk-2AMZF5UH.js";import{A as W,B as J,F as q,G,b as N,f as R,i as j,r as H,t as Q,x as z}from"./chunk-7FJALMHQ.js";import{a as A,f as B,g as ee}from"./chunk-XAYXIGTK.js";import{d as k}from"./chunk-GN7WWOTY.js";import{Ab as u,Da as p,Db as y,Eb as I,Fb as $,Ha as M,Hb as D,Ib as T,Jb as F,Oa as w,Ta as m,Za as s,ad as K,cd as U,dd as X,ed as Y,fc as O,fd as Z,gb as a,ha as x,hb as o,ia as b,ib as g,jb as c,jc as V,kb as d,mb as L,ob as C,pb as h,tb as P,ub as E,vb as v,zb as l}from"./chunk-4P6AN2NL.js";var ge=()=>[5,10,25,100],_e=e=>["/fornecedor",e];function Ce(e,i){if(e&1){let t=L();a(0,"button",25),C("click",function(){x(t);let r=h();return b(r.clearFilter())}),a(1,"mat-icon"),l(2,"close"),o()()}}function he(e,i){e&1&&(a(0,"th",26),l(1,"Nome"),o())}function Se(e,i){if(e&1&&(a(0,"td",27),l(1),o()),e&2){let t=i.$implicit;p(),u(t.nome_fornecedor)}}function xe(e,i){e&1&&(a(0,"th",26),l(1,"CPF/CNPJ"),o())}function be(e,i){if(e&1&&(a(0,"td",27),l(1),o()),e&2){let t=i.$implicit,n=h();p(),u(n.formatCpfCnpjForDisplay(t.cpf_cnpj_fornecedor))}}function Me(e,i){e&1&&(a(0,"th",26),l(1,"Email"),o())}function we(e,i){if(e&1&&(a(0,"td",27),l(1),o()),e&2){let t=i.$implicit;p(),u(t.email_fornecedor)}}function Le(e,i){e&1&&(a(0,"th",26),l(1,"Telefone"),o())}function Pe(e,i){if(e&1&&(a(0,"td",27),l(1),o()),e&2){let t=i.$implicit;p(),u(t.telefone_fornecedor)}}function Ee(e,i){e&1&&(a(0,"th",28),l(1,"Endere\xE7o"),o())}function ve(e,i){if(e&1&&(a(0,"td",27),l(1),o()),e&2){let t=i.$implicit;p(),u(t.endereco_fornecedor)}}function ye(e,i){e&1&&(a(0,"th",29),l(1,"A\xE7\xF5es"),o())}function Ie(e,i){if(e&1&&(a(0,"td",30)(1,"button",31)(2,"mat-icon"),l(3,"edit"),o()()()),e&2){let t=i.$implicit;p(),s("routerLink",F(1,_e,t.cpf_cnpj_fornecedor))}}function $e(e,i){e&1&&g(0,"tr",32)}function De(e,i){e&1&&g(0,"tr",33)}function Te(e,i){e&1&&(a(0,"div",34)(1,"mat-icon"),l(2,"search_off"),o(),a(3,"p"),l(4,"Nenhum fornecedor encontrado com os filtros aplicados"),o()())}function Fe(e,i){e&1&&(a(0,"div",34)(1,"mat-icon"),l(2,"local_shipping"),o(),a(3,"p"),l(4,"Nenhum fornecedor cadastrado"),o()())}function Oe(){let e=new S;return e.itemsPerPageLabel="Itens por p\xE1gina:",e.nextPageLabel="Pr\xF3xima p\xE1gina",e.previousPageLabel="P\xE1gina anterior",e.firstPageLabel="Primeira p\xE1gina",e.lastPageLabel="\xDAltima p\xE1gina",e.getRangeLabel=(i,t,n)=>{if(n===0||t===0)return`0 de ${n}`;n=Math.max(n,0);let r=i*t,f=r<n?Math.min(r+t,n):r+t;return`${r+1} - ${f} de ${n}`},e}var fe=class e{constructor(i){this.api=i}dataSource=new de([]);originalSuppliers=[];filterValue="";columns=["nome_fornecedor","cpf_cnpj_fornecedor","email_fornecedor","telefone_fornecedor","endereco_fornecedor","actions"];paginator;ngOnInit(){this.api.getSuppliers().subscribe(i=>{console.log(i),this.originalSuppliers=i,this.dataSource.data=i,this.paginator&&(this.dataSource.paginator=this.paginator)})}ngAfterViewInit(){this.dataSource.data.length>0&&!this.dataSource.paginator&&this.paginator?this.dataSource.paginator=this.paginator:!this.dataSource.paginator&&this.paginator&&(this.dataSource.paginator=this.paginator)}formatCpfCnpjForDisplay(i){if(!i)return"";let t=String(i).replace(/\D/g,"");if(t.length===0)return"";let n="";if(t.length<=11)n=t,t.length>9?n=`${t.substring(0,3)}.${t.substring(3,6)}.${t.substring(6,9)}-${t.substring(9,11)}`:t.length>6?n=`${t.substring(0,3)}.${t.substring(3,6)}.${t.substring(6)}`:t.length>3&&(n=`${t.substring(0,3)}.${t.substring(3)}`);else{let r=t.substring(0,14);n=r,r.length>12?n=`${r.substring(0,2)}.${r.substring(2,5)}.${r.substring(5,8)}/${r.substring(8,12)}-${r.substring(12,14)}`:r.length>8?n=`${r.substring(0,2)}.${r.substring(2,5)}.${r.substring(5,8)}/${r.substring(8)}`:r.length>5?n=`${r.substring(0,2)}.${r.substring(2,5)}.${r.substring(5)}`:r.length>2&&(n=`${r.substring(0,2)}.${r.substring(2)}`)}return n}applyFilter(){let i=this.filterValue.trim().toLowerCase();i?this.dataSource.data=this.originalSuppliers.filter(t=>t.nome_fornecedor?.toLowerCase().includes(i)||t.cpf_cnpj_fornecedor?.toLowerCase().includes(i)||t.email_fornecedor?.toLowerCase().includes(i)||t.telefone_fornecedor?.toLowerCase().includes(i)):this.dataSource.data=this.originalSuppliers,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}clearFilter(){this.filterValue="",this.applyFilter()}static \u0275fac=function(t){return new(t||e)(M(ee))};static \u0275cmp=w({type:e,selectors:[["app-supplier-list"]],viewQuery:function(t,n){if(t&1&&P(_,5),t&2){let r;E(r=v())&&(n.paginator=r.first)}},features:[D([{provide:S,useValue:Oe()}])],decls:41,vars:9,consts:[[1,"list-card"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/fornecedor/new",1,"new-button"],[1,"filter-container"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Nome, CPF/CNPJ, Email ou Telefone",3,"ngModelChange","input","ngModel"],["matSuffix",""],["mat-icon-button","","matSuffix","","aria-label","Limpar filtro",3,"click",4,"ngIf"],[1,"table-container"],["mat-table","",1,"full-table","mat-elevation-z4",3,"dataSource"],["matColumnDef","nome_fornecedor"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cpf_cnpj_fornecedor"],["matColumnDef","email_fornecedor"],["matColumnDef","telefone_fornecedor"],["matColumnDef","endereco_fornecedor"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-results",4,"ngIf"],["showFirstLastButtons","","aria-label","Selecione a p\xE1gina de fornecedores",3,"pageSizeOptions"],["mat-icon-button","","matSuffix","","aria-label","Limpar filtro",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-icon-button","","color","primary","matTooltip","Editar Fornecedor",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"no-results"]],template:function(t,n){t&1&&(a(0,"mat-card",0)(1,"div",1)(2,"h2"),l(3,"Fornecedores"),o(),a(4,"button",2)(5,"mat-icon"),l(6,"add"),o(),l(7," Novo Fornecedor "),o()(),a(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),l(11,"Buscar Fornecedor"),o(),a(12,"input",5),$("ngModelChange",function(f){return I(n.filterValue,f)||(n.filterValue=f),f}),C("input",function(){return n.applyFilter()}),o(),a(13,"mat-icon",6),l(14,"search"),o(),m(15,Ce,3,0,"button",7),o()(),a(16,"div",8)(17,"table",9),c(18,10),m(19,he,2,0,"th",11)(20,Se,2,1,"td",12),d(),c(21,13),m(22,xe,2,0,"th",11)(23,be,2,1,"td",12),d(),c(24,14),m(25,Me,2,0,"th",11)(26,we,2,1,"td",12),d(),c(27,15),m(28,Le,2,0,"th",11)(29,Pe,2,1,"td",12),d(),c(30,16),m(31,Ee,2,0,"th",17)(32,ve,2,1,"td",12),d(),c(33,18),m(34,ye,2,0,"th",19)(35,Ie,4,3,"td",20),d(),m(36,$e,1,0,"tr",21)(37,De,1,0,"tr",22),o(),m(38,Te,5,0,"div",23)(39,Fe,5,0,"div",23),o(),g(40,"mat-paginator",24),o()),t&2&&(p(12),y("ngModel",n.filterValue),p(3),s("ngIf",n.filterValue),p(2),s("dataSource",n.dataSource),p(19),s("matHeaderRowDef",n.columns),p(),s("matRowDefColumns",n.columns),p(),s("ngIf",n.dataSource.data.length===0&&n.originalSuppliers.length>0),p(),s("ngIf",n.dataSource.data.length===0&&n.originalSuppliers.length===0),p(),s("pageSizeOptions",T(8,ge)))},dependencies:[V,O,B,A,ce,te,ne,le,re,ie,pe,oe,ae,me,se,X,U,K,Z,Y,k,H,N,R,j,J,W,Q,z,G,q,ue,_],styles:[".list-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin:16px;box-shadow:0 4px 20px #00000014}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid rgba(67,97,238,.1)}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.8rem;margin:0}.new-button[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff!important;padding:0 24px;height:44px;font-weight:500}.filter-container[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;background:#4361ee0d;padding:16px;border-radius:12px}.filter-field[_ngcontent-%COMP%]{flex:1}.table-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;margin:24px 0;box-shadow:0 2px 16px #00000014}.full-table[_ngcontent-%COMP%]{width:100%}.text-center[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{text-align:center;padding:32px;color:var(--text-secondary);font-size:1.1rem}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.6}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.new-button[_ngcontent-%COMP%]{width:100%}.filter-container[_ngcontent-%COMP%]{flex-direction:column}.filter-field[_ngcontent-%COMP%]{width:100%}}"]})};export{fe as SupplierListComponent};
